(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(68)},39:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),l=(n(39),n(14)),i=n(10),u=n(30),s=n(31),d=n(1),m=n(32),E=n.n(m).a.create({baseURL:"".concat("http://localhost:3000","/api/v1")});E.defaults.headers.post.Accept="application/json",E.defaults.headers.post["Content-Type"]="application/json";var h={getCounters:function(){return E.get("/counters").then(function(e){return e.data})},addCounter:function(e){return E.post("/counter",{title:e}).then(function(e){return e.data})},increaseCounter:function(e){return E.post("/counter/inc",{id:e}).then(function(e){return e.data})},decreaseCounter:function(e){return E.post("/counter/dec",{id:e}).then(function(e){return e.data})},removeCounter:function(e){return E.delete("/counter",{data:{id:e}}).then(function(e){return e.data})}},p=function(){return function(e,t){e({type:"FETCH_COUNTERS"}),h.getCounters().then(function(n){return e({type:"FETCH_COUNTERS_SUCCESS",payload:n.sort(O(t().counters.orderBy))})}).catch(function(t){return e({type:"FETCH_COUNTERS_ERROR",payload:t})})}},f=function(e){return function(t,n){t({type:"ADD_COUNTER"}),h.addCounter(e).then(function(e){return t({type:"ADD_COUNTER_SUCCESS",payload:n().counters.data.concat(e).sort(O(n().counters.orderBy))})}).catch(function(e){return t({type:"ADD_COUNTER_ERROR",payload:e})})}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"increase";return function(n,a){n({type:"SET_COUNTER"}),h["".concat(t,"Counter")](e).then(function(e){return n({type:"SET_COUNTER_SUCCESS",payload:a().counters.data.map(function(t){return t.id===e.id&&(t.count=e.count),t}).sort(O(a().counters.orderBy))})}).catch(function(e){return n({type:"SET_COUNTER_ERROR",payload:e})})}},b=function(e){return function(t,n){t({type:"REMOVE_COUNTER"}),h.removeCounter(e).then(function(e){return t({type:"REMOVE_COUNTER_SUCCESS",payload:n().counters.data.filter(function(t){return t.id!==e}).sort(O(n().counters.orderBy))})}).catch(function(e){return t({type:"REMOVE_COUNTER_ERROR",payload:e})})}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title";return function(t,n){var a=n().counters.data;return t({type:"SET_ORDER",payload:{orderBy:e,data:a.sort(O(e))}})}},O=function(e){return function(t,n){var a="string"===typeof t[e]?t[e].toUpperCase():t[e],r="string"===typeof n[e]?n[e].toUpperCase():n[e],o=0;return a>r?o=1:a<r&&(o=-1),o}},v={data:[],isLoading:!1,error:null,hasError:!1,success:!1,orderBy:"title"},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTERS":return Object(d.a)({},e,{isLoading:!0,hasError:!1,error:null});case"FETCH_COUNTERS_ERROR":return Object(d.a)({},e,{isLoading:!1,hasError:!0,error:t.payload});case"FETCH_COUNTERS_SUCCESS":return Object(d.a)({},e,{isLoading:!1,data:t.payload});case"ADD_COUNTER":return Object(d.a)({},e,{isLoading:!0,hasError:!1,error:null});case"ADD_COUNTER_ERROR":return Object(d.a)({},e,{isLoading:!1,hasError:!0,error:t.payload});case"ADD_COUNTER_SUCCESS":return Object(d.a)({},e,{isLoading:!1,data:t.payload});case"SET_COUNTER":return Object(d.a)({},e,{isLoading:!0,hasError:!1,error:null});case"SET_COUNTER_ERROR":return Object(d.a)({},e,{isLoading:!1,hasError:!0,error:t.payload});case"SET_COUNTER_SUCCESS":return Object(d.a)({},e,{isLoading:!1,data:t.payload});case"REMOVE_COUNTER":return Object(d.a)({},e,{isLoading:!0,hasError:!1,error:null});case"REMOVE_COUNTER_ERROR":return Object(d.a)({},e,{isLoading:!1,hasError:!0,error:t.payload});case"REMOVE_COUNTER_SUCCESS":return Object(d.a)({},e,{isLoading:!1,data:t.payload});case"SET_ORDER":return Object(d.a)({},e,{orderBy:t.payload.orderBy,data:t.payload.data});default:return e}},R=Object(i.c)({counters:y}),g=n(4),N=n(5),S=n(8),j=n(6),T=n(7),U=n(33),D=n.n(U),k=n(12),F=n(3),I=(n(62),function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(S.a)(this,Object(j.a)(t).call(this,e))).state={title:""},n.handleChange=n.handleChange.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n}return Object(T.a)(t,e),Object(N.a)(t,[{key:"handleChange",value:function(e){this.setState({title:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.title),this.setState({title:""})}},{key:"render",value:function(){var e=this.state.title;return r.a.createElement("div",{className:"counter-add-form"},r.a.createElement("h2",{className:"counter-add-form__title"},"Nuevo contador"),r.a.createElement("form",{action:"#",class:"counter-add-form__inner",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"counter-add-form__group"},r.a.createElement("label",{htmlFor:"title"},"Nombre"),r.a.createElement("input",{type:"text",name:"title",id:"title",value:e,onChange:this.handleChange})),r.a.createElement("button",{class:"btn-circle",type:"submit"},r.a.createElement(F.a,null))))}}]),t}(r.a.Component)),L=(n(63),function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.disabled,a=e.onDecrease,o=e.onIncrease,c=e.onRemove;return r.a.createElement("div",{className:"counter-item"},r.a.createElement("div",{className:"counter-item__cel"},r.a.createElement("p",{className:"counter-item__label"},t.title)),r.a.createElement("div",{className:"counter-item__cel"},r.a.createElement("p",{className:"counter-item__label"},t.count),r.a.createElement("div",{className:"counter-item__actions"},r.a.createElement("button",{type:"button",className:"btn-circle counter-item__button",disabled:n,onClick:function(e){return a(t.id)}},r.a.createElement(F.e,null)),r.a.createElement("button",{type:"button",className:"btn-circle counter-item__button",disabled:n,onClick:function(e){return o(t.id)}},r.a.createElement(F.a,null)),r.a.createElement("button",{type:"button",className:"btn-circle counter-item__button",disabled:n,onClick:function(e){return c(t.id)}},r.a.createElement(F.c,null)))))}}]),t}(r.a.Component)),V=(n(64),function(e){function t(){return Object(g.a)(this,t),Object(S.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filterValue,n=e.onChange,a=e.rule;return r.a.createElement("div",{className:"counter-filter"},r.a.createElement("form",{action:"#",className:"counter-filter__inner"},r.a.createElement("label",{htmlFor:"filterValue"},a.title),r.a.createElement("input",{type:"text",name:"filterValue",id:"filterValue",value:t,onChange:n})))}}]),t}(r.a.Component)),w=n(15),B=n.n(w),A=(n(65),function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(S.a)(this,Object(j.a)(t).call(this,e))).handleChange=function(e){n.setState({filterValue:e.target.value})},n.getTotalCounts=function(){var e=0;return n.getFilteredData().forEach(function(t){e+=t.count}),e},n.getFilteredData=function(){var e=n.state,t=e.filterValue,a=e.filterRules,r=e.indexRule,o=n.props.countersState.data,c=a[r].value;return"title"===c?o.filter(function(e){return e.title.indexOf(t)>=0}):"min"===c&&parseInt(t,10)?o.filter(function(e){return e.count<parseInt(t,10)}):"max"===c&&parseInt(t,10)?o.filter(function(e){return e.count>parseInt(t,10)}):o},n.state={filterValue:"",filterRules:[{title:"Nombre",value:"title"},{title:"Menores a",value:"min"},{title:"Mayores a",value:"max"}],indexRule:0,activeToggle:!1},n}return Object(T.a)(t,e),Object(N.a)(t,[{key:"handleChangeFiltrerRule",value:function(e){this.setState({indexRule:e,activeToggle:!1,filterValue:""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.filterValue,a=t.filterRules,o=t.indexRule,c=t.activeToggle,l=this.props,i=l.countersState,u=l.onAdd,s=l.onOrder,d=l.onDecreaseItem,m=l.onIncreaseItem,E=l.onRemoveItem,h=i.isLoading,p=i.orderBy;return r.a.createElement("div",{className:"counter-list"},r.a.createElement("div",{className:"counter-list__top-bar"},r.a.createElement("div",{className:"counter-list__top-bar__title"},r.a.createElement("h2",null,"Contadores"),r.a.createElement("button",{className:"btn-circle",onClick:u},r.a.createElement(F.a,null))),r.a.createElement("div",{className:"counter-list__top-bar__filter"},r.a.createElement(V,{rule:a[o],searchPhrase:n,onChange:this.handleChange}),r.a.createElement("div",{className:B()("counter-list__toggle-filter",{"counter-list__toggle-filter--active":c})},r.a.createElement("button",{type:"button",className:"btn-circle counter-list__toggle-filter__button",onClick:function(t){return e.setState({activeToggle:!c})}},r.a.createElement(F.d,null)),r.a.createElement("ul",{className:"counter-list__toggle-filter__options"},a.map(function(t,n){return r.a.createElement("li",{className:"counter-list__toggle-filter__item",key:n},r.a.createElement("button",{type:"button",onClick:function(t){return e.handleChangeFiltrerRule(n)}},t.title))}))))),r.a.createElement("div",{className:"counter-list__header"},r.a.createElement("button",{type:"button",className:B()({active:"title"===p}),onClick:function(e){return s()}},"Nombre","title"===p&&r.a.createElement(F.b,null)),r.a.createElement("button",{type:"button",className:B()({active:"count"===p}),onClick:function(e){return s("count")}},"Cantidad","count"===p&&r.a.createElement(F.b,null))),r.a.createElement("ul",{className:"counter-list__body"},this.getFilteredData().map(function(e){return r.a.createElement("li",{className:"counter-list__item",key:e.id},r.a.createElement(L,{data:e,disabled:h,onDecrease:d,onIncrease:m,onRemove:E}))})),r.a.createElement("div",{className:"counter-list__footer"},r.a.createElement("h4",{className:"counter-list__total"},"Total ",this.getTotalCounts())))}}]),t}(r.a.Component)),x=(n(66),function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(S.a)(this,Object(j.a)(t).call(this,e))).handleAddCounter=function(e){n.props.dispatch(f(e)),n.handleCloseForm()},n.handleIncrease=function(e){n.props.dispatch(_(e,"increase"))},n.handleDecrease=function(e){n.props.dispatch(_(e,"decrease"))},n.handleRemove=function(e){n.props.dispatch(b(e))},n.handleOrderBy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"title";n.props.dispatch(C(e))},n.handleOpenForm=function(){n.setState({openForm:!0})},n.handleCloseForm=function(){n.setState({openForm:!1})},n.state={openForm:!1},n.props.dispatch(p()),n}return Object(T.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.counters,t=this.state.openForm;return r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"body__inner"},r.a.createElement(D.a,{show:t,onClose:this.handleCloseForm,containerClassName:"body__modal"},r.a.createElement(I,{onSubmit:this.handleAddCounter})),r.a.createElement(A,{countersState:e,onAdd:this.handleOpenForm,onOrder:this.handleOrderBy,onDecreaseItem:this.handleDecrease,onIncreaseItem:this.handleIncrease,onRemoveItem:this.handleRemove})))}}]),t}(r.a.Component)),M=Object(l.b)(function(e){return{counters:e.counters}})(x),H=(n(67),Object(i.d)(R,Object(i.a)(u.a,s.logger)));var J=function(){return r.a.createElement(l.a,{store:H},r.a.createElement("div",{className:"root"},r.a.createElement(M,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.28d436ed.chunk.js.map